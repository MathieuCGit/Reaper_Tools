<!DOCTYPE html>
<html lang="en">
<!-- Documentation generated by LuaDox: https://github.com/jtackaberry/luadox -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Analyzer - MC - Reaper Scripts</title>
	<link href="../prism.css?7653a2d" rel="stylesheet" />
    <link rel="stylesheet" href="../luadox.css?7653a2d" type="text/css">
    <link href="../custom.css?7653a2d" rel="stylesheet" />
</head>
<body class="module-analyzer">
<div class="topbar">
<div class="group one">
<div class="description"><span>MC - Reaper Scripts</span></div>
</div>
<div class="group two">
<div class="button iconleft"><a href="https://github.com/MathieuCGit" title=""><img src="../img/i-github.svg?7653a2d" alt=""/><span>GitHub</span></a></div>
</div>
<div class="group three">
<div class="button iconleft"><a href="../module/dbg.html" title="dbg"><img src="../img/i-left.svg?7653a2d" alt=""/><span>Previous</span></a></div>
<div class="button iconright"><a href="../module/Collector.html" title="Collector"><span>Next</span><img src="../img/i-right.svg?7653a2d" alt=""/></a></div>
</div>
</div>
<div class="sidebar">
<form action="../search.html">
<input class="search" name="q" type="search" placeholder="Search" />
</form>
<div class="sections">
<div class="heading">Contents</div>
<ul>
<li><a href="#Analyzer">Module <code>Analyzer</code></a></li>
<li><a href="#private"><p>PRIVATE METHODS</p>
</a></li>
<li><a href="#public"><p>PUBLIC METHODS</p>
</a></li>
</ul>
</div>
<div class="modules">
<div class="heading">Modules</div>
<ul>
<li><a href="../module/ReaCAT.html">ReaCAT</a></li>
<li><a href="../module/dbg.html">dbg</a></li>
<li class="selected"><a href="../module/Analyzer.html">Analyzer</a></li>
<li><a href="../module/Collector.html">Collector</a></li>
<li><a href="../module/SharpOrFlat.html">SharpOrFlat</a></li>
<li><a href="../module/WriteData.html">WriteData</a></li>
</ul>
</div>
</div>
<div class="body">
<div class="section">
<h2 class="module" id="Analyzer">Module <code>Analyzer</code>
<a class="permalink" href="#Analyzer" title="Permalink to this definition">¶</a>
</h2>
<div class="inner">
<p>ReaCAT - Chord Analyzer.</p>
<p>This module provides a bunch of mechanisms to analyze a chord and return a formated string like <strong>G7(♭9)</strong>.</p>
<p>The main public method is <code>Analyzer:get_chord(pitch_array,take)</code>.
<div class="see">See also <a href="../module/Analyzer.html#Analyzer.get_chord">Analyzer.get_chord()</a></div>
<code>pitch_array</code> structure should be:</p>
<pre><code class="language-lua">pitch_array={
 [idx]=int,
 [idx]=int,
 [idx]=int,
 [idx]=int,
 [idx]=etc...}
</code></pre>
<p>For example, here is a CM7.</p>
<h5>Example</h5>
<pre><code class="language-lua">pitch_array={
 [1]=60,
 [2]=64,
 [3]=67,
 [4]=71
 }
</code></pre>

<div class="synopsis">
<h3>Synopsis</h3>
<div class="heading">Fields</div>
<table class="fields ">
<tr>
<td class="name"><a href="#Analyzer.root"><var>root</var></a></td>
<td class="meta types"><em>string</em></td>
<td class="meta"><p>read-only</p>
</td>
<td class="doc"><p>The root of the chord</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.structure"><var>structure</var></a></td>
<td class="meta types"><em>string</em></td>
<td class="meta"><p>read-only</p>
</td>
<td class="doc"><p>The body/structure of the chord</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.bass"><var>bass</var></a></td>
<td class="meta types"><em>string</em></td>
<td class="meta"><p>read-only</p>
</td>
<td class="doc"><p>If the chord is in an inverted form, bass is the lowest note</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.intervalReferenceTable"><var>intervalReferenceTable</var></a></td>
<td class="meta types"><em>table</em></td>
<td class="meta"><p>read-only</p>
</td>
<td class="doc"><p>Interval reference table</p>
</td>
</tr>
</table>
</div>
<dl class="fields">
<dt id="Analyzer.root">
<span class="icon"></span><var>Analyzer.root</var>
<span class="tag type"><em>string</em></span>
<span class="tag meta">read-only</span>
<a class="permalink" href="#Analyzer.root" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>The root of the chord.</p>

</dd>
<dt id="Analyzer.structure">
<span class="icon"></span><var>Analyzer.structure</var>
<span class="tag type"><em>string</em></span>
<span class="tag meta">read-only</span>
<a class="permalink" href="#Analyzer.structure" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>The body/structure of the chord.</p>

</dd>
<dt id="Analyzer.bass">
<span class="icon"></span><var>Analyzer.bass</var>
<span class="tag type"><em>string</em></span>
<span class="tag meta">read-only</span>
<a class="permalink" href="#Analyzer.bass" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>If the chord is in an inverted form, bass is the lowest note. So either the root or the lowest note.</p>

</dd>
<dt id="Analyzer.intervalReferenceTable">
<span class="icon"></span><var>Analyzer.intervalReferenceTable</var>
<span class="tag type"><em>table</em></span>
<span class="tag meta">read-only</span>
<a class="permalink" href="#Analyzer.intervalReferenceTable" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Interval reference table.
<div class="admonition note"><div class="title">Interval reference table.</div><div class="body"><p>  This is the main interval reference table.</p>
<pre><code class="language-lua">1:&quot;&quot;
2:&quot;b2&quot;
3:&quot;sus2&quot;
4:&quot;m&quot;
5:&quot;&quot;
6:&quot;sus4&quot;
7:&quot;b5&quot;
8:&quot;&quot;
9:&quot;&quot;
10:&quot;6&quot;
11:&quot;7&quot;
12:&quot;M7&quot;
13:&quot;#5&quot;
14:&quot;b9&quot;
15:&quot;9&quot;
16:&quot;#9&quot;
17:&quot;&quot;
18:&quot;11&quot;
19:&quot;#11&quot;
20:&quot;&quot;
21:&quot;b13&quot;
22:&quot;13&quot;
23:&quot;#13&quot;
24:&quot;&quot;
25:&quot;dim7&quot;
26:&quot;5&quot;
</code></pre>
<p>A minor chord will returned as <code>{1,4,8}</code> with <code>1=&quot;&quot;</code>, <code>4=&quot;m&quot;</code> and <code>8=&quot;&quot;</code>, so only the <code>&quot;m&quot;</code> symbol will be returned</p>
<p>An exception takes place at the 13th place of the table. As octave are never displayed, we put '#5' symbol in this place. 25th place is used as an extra slot for &quot;dim7&quot; chord symbol. We also add a 26 slot for the power chords.</p>
</div></div>

</dd>
</dl>
</div>
</div>
<div class="section">
<h2 class="section" id="private">PRIVATE METHODS

<a class="permalink" href="#private" title="Permalink to this definition">¶</a>
</h2>
<div class="inner">
<div class="synopsis">
<h3>Synopsis</h3>
<div class="heading">Functions</div>
<table class="functions ">
<tr>
<td class="name"><a href="#Analyzer.array2Dsort"><var>Analyzer.array2Dsort</var></a>()</td>
<td class="doc"><p><em>table.sort()</em> is a very limited  and unstable function in lua while dealing with multidimensionnal array
so we made another method</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.chordStructureFunc"><var>Analyzer.chordStructureFunc</var></a>()</td>
<td class="doc"><p>Get usual name from interval numbers, we got the name from the <strong>intervalReferenceTable</strong> defined at the beginning of the script</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.deepcopy"><var>Analyzer.deepcopy</var></a>()</td>
<td class="doc"><p>Actually Lua doesn't support table copy as expected in lots of other languages</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.detectClusterChords"><var>Analyzer.detectClusterChords</var></a>()</td>
<td class="doc"><p>If size of Array is upper than 7 we have a non standard chord, means a cluster</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.find_interval"><var>Analyzer.find_interval</var></a>()</td>
<td class="doc"><p>This function aims to check if a specific interval exists</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.findTheRealRoot"><var>Analyzer.findTheRealRoot</var></a>()</td>
<td class="doc"><p>This function is the <strong>core analysis</strong> one</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.genericChordParser"><var>Analyzer.genericChordParser</var></a>()</td>
<td class="doc"><p>This function aims to provide a more conventional displaying for chords</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.getKeySignAtPpq"><var>Analyzer.getKeySignAtPpq</var></a>()</td>
<td class="doc"><p>Find if we already have a key signature at ppq parameter, +-10 ticks</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.manageStandarException"><var>Analyzer.manageStandarException</var></a>()</td>
<td class="doc"><p>This function aims to manage some exception not as usual mathematical scheme but as a human being would</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.note_to_name"><var>Analyzer.note_to_name</var></a>()</td>
<td class="doc"><p>convert a note number value into a MIDI note
Snippet inspired from the awesome Reaticulate by Jason Tackaberry : <a href="https://github.com/jtackaberry/reaticulate/blob/master/app/lib/utils.lua">https://github.com/jtackaberry/reaticulate/blob/master/app/lib/utils.lua</a></p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.removeDuplicates"><var>Analyzer.removeDuplicates</var></a>()</td>
<td class="doc"><p>This function allow you to remove duplicates entries in an array</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.replace_interval"><var>Analyzer.replace_interval</var></a>()</td>
<td class="doc"><p>This function aims to replace a given interval value by another in a given array</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Analyzer.tablelength"><var>Analyzer.tablelength</var></a>()</td>
<td class="doc"><p>Get lenght of an indexed table/array</p>
</td>
</tr>
</table>
</div>
<dl class="functions">
<dt id="Analyzer.array2Dsort">
<span class="icon"></span><var>Analyzer.array2Dsort</var>(<em>array</em>, <em>idx</em>)
<a class="permalink" href="#Analyzer.array2Dsort" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p><em>table.sort()</em> is a very limited  and unstable function in lua while dealing with multidimensionnal array
so we made another method.
<div class="admonition note"><div class="title">Note</div><div class="body"><p>   more informations can ba found here : <a href="http://www.lua.org/manual/5.4/manual.html#pdf-table.sort">http://www.lua.org/manual/5.4/manual.html#pdf-table.sort</a></p>
</div></div>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>array containing the datas you want to sort</p>
</td>
</tr>
<tr>
<td class="name"><var>idx</var></td>
<td class="types">(<em>mixed</em>)</td>
<td class="doc"><p>can a number or a string depending on array construction. For example : array[2][&quot;name&quot;] work if you previously construct your array with a string (here &quot;name&quot;).</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>array is an array containing datas sorted</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.chordStructureFunc">
<span class="icon"></span><var>Analyzer.chordStructureFunc</var>(<em>array</em>)
<a class="permalink" href="#Analyzer.chordStructureFunc" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get usual name from interval numbers, we got the name from the <strong>intervalReferenceTable</strong> defined at the beginning of the script.</p>
<p>In tonal and occidental modal music, intervals are represented on 2 octaves.
So this array is a 24 cases + extra cases (for example 25 = <em>dim</em>)
for convenient displaying, I use the 13th case (8ve) to put the <em>#5</em>.</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>is an array containing a list of intervals.</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>stringStruc a formated string like &quot;m7&quot; or &quot;M79&quot;.  <div class="admonition note"><div class="title">Note</div><div class="body"><p>  the value returns by this function is not yet polished and we have a parsing mechanism later.
<div class="see">See also <a href="../module/Analyzer.html#Analyzer.genericChordParser">Analyzer.genericChordParser()</a></div>
</div></div>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.deepcopy">
<span class="icon"></span><var>Analyzer.deepcopy</var>(<em>orig</em>)
<a class="permalink" href="#Analyzer.deepcopy" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Actually Lua doesn't support table copy as expected in lots of other languages.
You <strong>CAN'T</strong> make <code>table2 = table1</code> and expect <code>table2</code> to be a new table with <code>table1</code> data.
Here is a snippet from <a href="http://lua-users.org/wiki/CopyTable">http://lua-users.org/wiki/CopyTable</a>
making quite well the job.</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>orig</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>is the array you want a copy</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>copy returns a NEW array with orig datas copied in</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.detectClusterChords">
<span class="icon"></span><var>Analyzer.detectClusterChords</var>(<em>array</em>)
<a class="permalink" href="#Analyzer.detectClusterChords" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>If size of Array is upper than 7 we have a non standard chord, means a cluster.
<code>retval, retvals_csv=reaper.GetUserInputs()</code></p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>is a table we have already removed duplicate note entries.</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>a message saying this is detected as a cluster. Idealy this part should open a input box to let user name the chord as he would like with something like.</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.find_interval">
<span class="icon"></span><var>Analyzer.find_interval</var>(<em>array</em>, <em>intervalSeeked</em>)
<a class="permalink" href="#Analyzer.find_interval" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function aims to check if a specific interval exists. If we have a 6 and a 7, 6 becomes a 13 and the chord is no more considered as an inversion. So we need to know if we have M7.</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>is an array containing the chords numbers like for example : <code>array={1,5,8,11}</code> for a major7 chord.</p>
</td>
</tr>
<tr>
<td class="name"><var>intervalSeeked</var></td>
<td class="types">(<em>number</em>)</td>
<td class="doc"><p>is the number of the interval you want to detect in semi-tone. For example if we put 4, the function will return true and 1. True because we found the interval and 1 because we found it once.</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="name">1.</td>
<td class="types">(<em>bool</em>)</td>
<td class="doc"><p>isDetected is set to true if the interval exists in the array and false otherwise.</p>
</td>
</tr>
<tr>
<td class="name">2.</td>
<td class="types">(<em>int</em>)</td>
<td class="doc"><p>nbr_interval_seeked count the number of time an interval is found.</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.findTheRealRoot">
<span class="icon"></span><var>Analyzer.findTheRealRoot</var>(<em>array</em>)
<a class="permalink" href="#Analyzer.findTheRealRoot" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function is the <strong>core analysis</strong> one.
<div class="admonition note"><div class="title">Behaviour</div><div class="body"><p>  It aims to get chord intervals in the good order as a human would perform. A 6th is an inverted 3rd. So we have to treat 6th as 3rd. There are 3 exceptions:</p>
<ul>
<li>if there are a 6 AND a 7 or 7M =&gt; 6th become a 13th and minor 6th become a b13</li>
<li>dimnished chords always have a major 6th, so be carefull of this case	to avoid infinite loop.</li>
<li>augmented chords always have a minor 6th, so be carefull of this case	to avoid infinite loop.</li>
</ul>
</div></div>
<div class="see">See also <a href="../module/Analyzer.html#Analyzer.find_interval">Analyzer.find_interval()</a></div>
<div class="see">See also <a href="../module/Analyzer.html#Analyzer.array2Dsort">Analyzer.array2Dsort()</a></div>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"></td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="name">1.</td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>pitch_role_and_name which contains notes in the right order and with right intervals</p>
</td>
</tr>
<tr>
<td class="name">2.</td>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>the real root note (so even if the bass note <strong>is not</strong> the root note)</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.genericChordParser">
<span class="icon"></span><var>Analyzer.genericChordParser</var>(<em>rootNote</em>, <em>chordStructure</em>, <em>lowestNoteName</em>)
<a class="permalink" href="#Analyzer.genericChordParser" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function aims to provide a more conventional displaying for chords. By design it seems better to separate chords recognition from chord displaying because it lets us more possibilities.</p>
<div class="admonition note"><div class="title">Note</div><div class="body"><p>   <em>Ebmb57</em> would be more comprehensive if displayed as <em>Ebmin7(b5)</em> and A major with a 3rd on bass is <em>AC#</em> but will be <em>A/C#</em> once processed.</p>
</div></div>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>rootNote</var></td>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>is the real root note of the chord (not the potential inverted one)</p>
</td>
</tr>
<tr>
<td class="name"><var>chordStructure</var></td>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>is a string coming from intervalReferenceTable{}</p>
</td>
</tr>
<tr>
<td class="name"><var>lowestNoteName</var></td>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>is the lowest note find by pitch in the chord detection</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="name">1.</td>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>chord the structure of the chord</p>
</td>
</tr>
<tr>
<td class="name">2.</td>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>rootNote is the rootNote</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.getKeySignAtPpq">
<span class="icon"></span><var>Analyzer.getKeySignAtPpq</var>(<em>take</em>, <em>pos</em>)
<a class="permalink" href="#Analyzer.getKeySignAtPpq" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Find if we already have a key signature at ppq parameter, +-10 ticks.</p>
<div class="see">See also sharpOrFlat</div>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>take</var></td>
<td class="types">(<em>take</em>)</td>
<td class="doc"><p>is a valid reaper take</p>
</td>
</tr>
<tr>
<td class="name"><var>pos</var></td>
<td class="types">(<em>number</em>)</td>
<td class="doc"><p>is the start of the measure and/or item take in ppqp (generaly 0)</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="name">1.</td>
<td class="types">(<em>int</em>)</td>
<td class="doc"><p>event id. Returns -1 if no MIDI key signature msg in the take</p>
</td>
</tr>
<tr>
<td class="name">2.</td>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>event msg containing MIDI raw data message</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.manageStandarException">
<span class="icon"></span><var>Analyzer.manageStandarException</var>(<em>array</em>)
<a class="permalink" href="#Analyzer.manageStandarException" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function aims to manage some exception not as usual mathematical scheme but as a human being would.</p>
<div class="admonition note"><div class="title">how it works</div><div class="body"><p>      if we have 4 and 5 semitones from the root note we haven't a minor AND a major chord, we have a major chord with a minor interval (4 semitones) considered as a #9.</p>
<p>As each alteration can be understood in 2 octaves we will work on an array of 24 values.</p>
</div></div>
<div class="see">See also <a href="../module/Analyzer.html#Analyzer.find_interval">Analyzer.find_interval()</a></div>
<div class="see">See also <a href="../module/Analyzer.html#Analyzer.chordStructureFunc">Analyzer.chordStructureFunc()</a></div>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>contains notes interval already parsed and ordered.</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>interval_table with correct itnervals see comment in the function</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.note_to_name">
<span class="icon"></span><var>Analyzer.note_to_name</var>(<em>note</em>)
<a class="permalink" href="#Analyzer.note_to_name" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>convert a note number value into a MIDI note
Snippet inspired from the awesome Reaticulate by Jason Tackaberry : <a href="https://github.com/jtackaberry/reaticulate/blob/master/app/lib/utils.lua">https://github.com/jtackaberry/reaticulate/blob/master/app/lib/utils.lua</a></p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>note</var></td>
<td class="types">(<em>int</em>)</td>
<td class="doc"><p>midi note number (from 0 to 127)</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>str</em>)</td>
<td class="doc"><p>midi note name such as C1 or F#3, etc...</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.removeDuplicates">
<span class="icon"></span><var>Analyzer.removeDuplicates</var>(<em>array</em>)
<a class="permalink" href="#Analyzer.removeDuplicates" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function allow you to remove duplicates entries in an array</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>is a one dimension array</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>expurgatedArray is an array whitout duplicates entry</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.replace_interval">
<span class="icon"></span><var>Analyzer.replace_interval</var>(<em>array</em>, <em>old</em>, <em>new</em>)
<a class="permalink" href="#Analyzer.replace_interval" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function aims to replace a given interval value by another in a given array</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>is the table we want to modify</p>
</td>
</tr>
<tr>
<td class="name"><var>old</var></td>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>is the existing value</p>
</td>
</tr>
<tr>
<td class="name"><var>new</var></td>
<td class="types">(<em>string</em>)</td>
<td class="doc"><p>is the value we want as the new one</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>array is the table modified with new values</p>
</td>
</tr>
</table>
</dd>
<dt id="Analyzer.tablelength">
<span class="icon"></span><var>Analyzer.tablelength</var>(<em>t</em>)
<a class="permalink" href="#Analyzer.tablelength" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get lenght of an indexed table/array.</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>t</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>i a table</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>int</em>)</td>
<td class="doc"><p>the table's lenght</p>
</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
<div class="section">
<h2 class="section" id="public">PUBLIC METHODS

<a class="permalink" href="#public" title="Permalink to this definition">¶</a>
</h2>
<div class="inner">
<div class="synopsis">
<h3>Synopsis</h3>
<div class="heading">Fields</div>
<table class="fields ">
<tr>
<td class="name"><a href="#Analyzer.root"><var>root</var></a></td>
<td class="doc"><div class="admonition warning"><div class="title">here is the core method @see findTheRealRoot()</div><div class="body"><p></p>
</div></div>
</td>
</tr>
</table>
<div class="heading">Functions</div>
<table class="functions ">
<tr>
<td class="name"><a href="#Analyzer.get_chord"><var>Analyzer:get_chord</var></a>()</td>
<td class="doc"><p>Perform analyse of pitch_array to determinate chord root, bass and structure</p>
</td>
</tr>
</table>
</div>
<h3 class="fields">Fields</h3>
<dl class="fields">
<dt id="Analyzer.root">
<span class="icon"></span><var>Analyzer.root</var>
<a class="permalink" href="#Analyzer.root" title="Permalink to this definition">¶</a>
</dt>
<dd>
<div class="admonition warning"><div class="title">here is the core method @see findTheRealRoot()</div><div class="body"><p></p>
</div></div>

</dd>
</dl>
<h3 class="functions">Functions</h3>
<dl class="functions">
<dt id="Analyzer.get_chord">
<span class="icon"></span><var>Analyzer:get_chord</var>(<em>pitch_array</em>, <em>take</em>)
<a class="permalink" href="#Analyzer.get_chord" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Perform analyse of pitch_array to determinate chord root, bass and structure. The table <code>pitch_array</code> <strong>MUST</strong> get this structure :</p>
<pre><code class="language-lua">pitch_array={
 [idx]=int,
 [idx]=int,
 [idx]=int,
 [idx]=int,
 [idx]=etc...}
</code></pre>
<p>For example, here is a <em>CM7</em>.</p>
<h5>Example</h5>
<pre><code class="language-lua">pitch_array={
 [1]=60, --C
 [2]=64, --E
 [3]=67, --G
 [4]=71  --B
 }
</code></pre>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>pitch_array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>an array you got with Pitch_and_coordinates class.</p>
</td>
</tr>
<tr>
<td class="name"><var>take</var></td>
<td class="types">(<em>take</em>)</td>
<td class="doc"><p>the active take where analysis must perform.</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>str</em>)</td>
<td class="doc"><p>chord is a printable string of the chord like for example G7(♭9).</p>
</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
</div>
<script src="../prism.js?7653a2d"></script>
</body>
</html>