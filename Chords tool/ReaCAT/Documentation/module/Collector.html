<!DOCTYPE html>
<html lang="en">
<!-- Documentation generated by LuaDox: https://github.com/jtackaberry/luadox -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Collector - MC - Reaper Scripts</title>
	<link href="../prism.css?7653a2d" rel="stylesheet" />
    <link rel="stylesheet" href="../luadox.css?7653a2d" type="text/css">
    <link href="../custom.css?7653a2d" rel="stylesheet" />
</head>
<body class="module-collector">
<div class="topbar">
<div class="group one">
<div class="description"><span>MC - Reaper Scripts</span></div>
</div>
<div class="group two">
<div class="button iconleft"><a href="https://github.com/MathieuCGit" title=""><img src="../img/i-github.svg?7653a2d" alt=""/><span>GitHub</span></a></div>
</div>
<div class="group three">
<div class="button iconleft"><a href="../module/Analyzer.html" title="Analyzer"><img src="../img/i-left.svg?7653a2d" alt=""/><span>Previous</span></a></div>
<div class="button iconright"><a href="../module/SharpOrFlat.html" title="SharpOrFlat"><span>Next</span><img src="../img/i-right.svg?7653a2d" alt=""/></a></div>
</div>
</div>
<div class="sidebar">
<form action="../search.html">
<input class="search" name="q" type="search" placeholder="Search" />
</form>
<div class="sections">
<div class="heading">Contents</div>
<ul>
<li><a href="#Collector">Module <code>Collector</code></a></li>
<li><a href="#private"><p>PRIVATE METHODS</p>
</a></li>
<li><a href="#public"><p>PUBLIC METHODS</p>
</a></li>
</ul>
</div>
<div class="modules">
<div class="heading">Modules</div>
<ul>
<li><a href="../module/ReaCAT.html">ReaCAT</a></li>
<li><a href="../module/dbg.html">dbg</a></li>
<li><a href="../module/Analyzer.html">Analyzer</a></li>
<li class="selected"><a href="../module/Collector.html">Collector</a></li>
<li><a href="../module/SharpOrFlat.html">SharpOrFlat</a></li>
<li><a href="../module/WriteData.html">WriteData</a></li>
</ul>
</div>
</div>
<div class="body">
<div class="section">
<h2 class="module" id="Collector">Module <code>Collector</code>
<a class="permalink" href="#Collector" title="Permalink to this definition">¶</a>
</h2>
<div class="inner">
<p>ReaCAT - Collector</p>
<p>This module aims to get the notes (selected, not selected, all item notes,etc.)in a chord.
It only works for the active take passed as an argument.</p>

<div class="synopsis">
<h3>Synopsis</h3>
<div class="heading">Fields</div>
<table class="fields ">
<tr>
<td class="name"><a href="#Collector.chord_start"><var>chord_start</var></a></td>
<td class="meta types"><em>number</em></td>
<td class="meta"><p>read-only</p>
</td>
<td class="doc"><p>Start of the chord in ppq</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Collector.chord_end"><var>chord_end</var></a></td>
<td class="meta types"><em>number</em></td>
<td class="meta"><p>read-only</p>
</td>
<td class="doc"><p>end of the chord in ppq</p>
</td>
</tr>
</table>
</div>
<dl class="fields">
<dt id="Collector.chord_start">
<span class="icon"></span><var>Collector.chord_start</var>
<span class="tag type"><em>number</em></span>
<span class="tag meta">read-only</span>
<a class="permalink" href="#Collector.chord_start" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Start of the chord in ppq</p>

</dd>
<dt id="Collector.chord_end">
<span class="icon"></span><var>Collector.chord_end</var>
<span class="tag type"><em>number</em></span>
<span class="tag meta">read-only</span>
<a class="permalink" href="#Collector.chord_end" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>end of the chord in ppq</p>

</dd>
</dl>
</div>
</div>
<div class="section">
<h2 class="section" id="private">PRIVATE METHODS

<a class="permalink" href="#private" title="Permalink to this definition">¶</a>
</h2>
<div class="inner">
<div class="synopsis">
<h3>Synopsis</h3>
<div class="heading">Functions</div>
<table class="functions ">
<tr>
<td class="name"><a href="#Collector.array2Dsort"><var>Collector.array2Dsort</var></a>()</td>
<td class="doc"><p><em>table.sort()</em> is a very limited  and unstable function in lua while dealing with multidimensionnal array
so we made another method</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Collector.findFirstNoteStartPpq"><var>Collector.findFirstNoteStartPpq</var></a>()</td>
<td class="doc"><p>This function aims to provide the start of the first note in either in the active take or in current notes selection</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Collector.findLastNoteEndPpq"><var>Collector.findLastNoteEndPpq</var></a>()</td>
<td class="doc"><p>This function aims to provide the end of the last note in either in the active take or in current notes selection</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Collector.nbrOfSelectedNotes"><var>Collector.nbrOfSelectedNotes</var></a>()</td>
<td class="doc"><p>Get the number of selected note in a MIDI take</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Collector.tablelength"><var>Collector.tablelength</var></a>()</td>
<td class="doc"><p>Get lenght of an indexed table/array</p>
</td>
</tr>
</table>
</div>
<dl class="functions">
<dt id="Collector.array2Dsort">
<span class="icon"></span><var>Collector.array2Dsort</var>(<em>array</em>, <em>idx</em>)
<a class="permalink" href="#Collector.array2Dsort" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p><em>table.sort()</em> is a very limited  and unstable function in lua while dealing with multidimensionnal array
so we made another method.
<div class="admonition note"><div class="title">Note</div><div class="body"><p>   more informations can ba found here : <a href="http://www.lua.org/manual/5.4/manual.html#pdf-table.sort">http://www.lua.org/manual/5.4/manual.html#pdf-table.sort</a></p>
</div></div>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>array containing the datas you want to sort</p>
</td>
</tr>
<tr>
<td class="name"><var>idx</var></td>
<td class="types">(<em>mixed</em>)</td>
<td class="doc"><p>can a number or a string depending on array construction. For example : array[2][&quot;name&quot;] work if you previously construct your array with a string (here &quot;name&quot;).</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>array is an array containing datas sorted</p>
</td>
</tr>
</table>
</dd>
<dt id="Collector.findFirstNoteStartPpq">
<span class="icon"></span><var>Collector.findFirstNoteStartPpq</var>(<em>take</em>)
<a class="permalink" href="#Collector.findFirstNoteStartPpq" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function aims to provide the start of the first note in either in the active take or in current notes selection.</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>take</var></td>
<td class="types">(<em>take</em>)</td>
<td class="doc"><p>is tthe active take we want the chords</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="name">1.</td>
<td class="types">(<em>number</em>)</td>
<td class="doc"><p>ppqPointerAll is the ppq start of the first note in the take</p>
</td>
</tr>
<tr>
<td class="name">2.</td>
<td class="types">(<em>number</em>)</td>
<td class="doc"><p>ppqPointerSel is the ppq start of the first note in the selection if there is a selection</p>
</td>
</tr>
</table>
</dd>
<dt id="Collector.findLastNoteEndPpq">
<span class="icon"></span><var>Collector.findLastNoteEndPpq</var>(<em>take</em>)
<a class="permalink" href="#Collector.findLastNoteEndPpq" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function aims to provide the end of the last note in either in the active take or in current notes selection.</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>take</var></td>
<td class="types">(<em>take</em>)</td>
<td class="doc"><p>is tthe active take we want the chords</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="name">1.</td>
<td class="types">(<em>number</em>)</td>
<td class="doc"><p>ppqPointerAll is the ppq end of the last note in the take</p>
</td>
</tr>
<tr>
<td class="name">2.</td>
<td class="types">(<em>number</em>)</td>
<td class="doc"><p>ppqPointerSel is the ppq end of the last note in the selection if there is a selection</p>
</td>
</tr>
</table>
</dd>
<dt id="Collector.nbrOfSelectedNotes">
<span class="icon"></span><var>Collector.nbrOfSelectedNotes</var>(<em>take</em>)
<a class="permalink" href="#Collector.nbrOfSelectedNotes" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get the number of selected note in a MIDI take.</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>take</var></td>
<td class="types">(<em>take</em>)</td>
<td class="doc"><p>is a Reaper take</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>int</em>)</td>
<td class="doc"><p>is the number of selected notes</p>
</td>
</tr>
</table>
</dd>
<dt id="Collector.tablelength">
<span class="icon"></span><var>Collector.tablelength</var>(<em>t</em>)
<a class="permalink" href="#Collector.tablelength" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get lenght of an indexed table/array.</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>t</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>i a table</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>int</em>)</td>
<td class="doc"><p>the table's lenght</p>
</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
<div class="section">
<h2 class="section" id="public">PUBLIC METHODS

<a class="permalink" href="#public" title="Permalink to this definition">¶</a>
</h2>
<div class="inner">
<div class="synopsis">
<h3>Synopsis</h3>
<div class="heading">Functions</div>
<table class="functions ">
<tr>
<td class="name"><a href="#Collector.grid_infos"><var>Collector:grid_infos</var></a>()</td>
<td class="doc"><p>This function aims to provide various informations about grid (division, number of PPQ per grid divisoin unit)</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Collector.get_pitch_array"><var>Collector:get_pitch_array</var></a>()</td>
<td class="doc"><p>This function aims to create a pitch indexed array of notes in the active take</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Collector.chord_pos"><var>Collector:chord_pos</var></a>()</td>
<td class="doc"><p>This method creates a new field in the indexed_pitch_array containing the chord index position start and end</p>
</td>
</tr>
<tr>
<td class="name"><a href="#Collector.rebuildindex"><var>Collector:rebuildindex</var></a>()</td>
<td class="doc"><p>Basic function to rebuild a 2D array index as LUA use table and table are not indexed the same way an array is</p>
</td>
</tr>
</table>
</div>
<dl class="functions">
<dt id="Collector.grid_infos">
<span class="icon"></span><var>Collector:grid_infos</var>(<em>take</em>)
<a class="permalink" href="#Collector.grid_infos" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function aims to provide various informations about grid (division, number of PPQ per grid divisoin unit).</p>
<h5>Example</h5>
<pre><code class="language-lua">for example, if we have a 4/4 metric, grid division is 1.
</code></pre>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>take</var></td>
<td class="types">(<em>take</em>)</td>
<td class="doc"><p>the active take in current midi editor</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="name">1.</td>
<td class="types">(<em>int</em>)</td>
<td class="doc"><p>gridDivision</p>
</td>
</tr>
<tr>
<td class="name">2.</td>
<td class="types">(<em>int</em>)</td>
<td class="doc"><p>nbrPpqInGridDivision</p>
</td>
</tr>
</table>
</dd>
<dt id="Collector.get_pitch_array">
<span class="icon"></span><var>Collector:get_pitch_array</var>(<em>take</em>)
<a class="permalink" href="#Collector.get_pitch_array" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This function aims to create a pitch indexed array of notes in the active take. If no notes are selected, the entire active take notes are put into the array.
<div class="see">See also <a href="../module/Collector.html#Collector.nbrOfSelectedNotes">Collector.nbrOfSelectedNotes()</a></div>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>take</var></td>
<td class="types">(<em>take</em>)</td>
<td class="doc"><p>is the active take (mainly means midi editor opened take)</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>indexed_pitch_array is an array containing notes pitch. Index array start at 1.</p>
</td>
</tr>
</table>
</dd>
<dt id="Collector.chord_pos">
<span class="icon"></span><var>Collector:chord_pos</var>(<em>indexed_pitch_array</em>, <em>take</em>)
<a class="permalink" href="#Collector.chord_pos" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>This method creates a new field in the indexed_pitch_array containing the chord index position start and end. The method take care of human input, if there is less than a 32th note between to notes, they are parts of the same chord.</p>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>indexed_pitch_array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"></td>
</tr>
<tr>
<td class="name"><var>take</var></td>
<td class="types">()</td>
<td class="doc"></td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>sorted_by_startppqpos is a table of chords indexed by their position</p>
</td>
</tr>
</table>
</dd>
<dt id="Collector.rebuildindex">
<span class="icon"></span><var>Collector:rebuildindex</var>(<em>array</em>)
<a class="permalink" href="#Collector.rebuildindex" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Basic function to rebuild a 2D array index as LUA use table and table are not indexed the same way an array is.
<div class="see">See also <a href="../module/Collector.html#Collector.array2Dsort">Collector.array2Dsort()</a></div>

<div class="heading">Parameters</div>
<table class="parameters">
<tr>
<td class="name"><var>array</var></td>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>is the array you want to rebuild the index</p>
</td>
</tr>
</table>
<div class="heading">Return Values</div>
<table class="returns">
<tr>
<td class="types">(<em>tab</em>)</td>
<td class="doc"><p>new_array is the array reindexed from 1</p>
</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
</div>
<script src="../prism.js?7653a2d"></script>
</body>
</html>